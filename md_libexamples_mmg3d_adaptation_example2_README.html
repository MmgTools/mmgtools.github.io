<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mmg: Example of advanced use of library libmmg3d</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo-Mmg.png"/></td>
  <td id="projectalign">
   <div id="projectname">Mmg
   </div>
   <div id="projectbrief">Simplicial remeshers (mesh adaptation, isovalue discretization, lagrangian movement)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Example of advanced use of library libmmg3d </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md80"></a>
I/ Implementation</h1>
<p>We read the mesh and solution in files.</p>
<ul>
<li>First we remesh in debug mode:<ul>
<li>we ask for a minimal size of 0.001, a maximal size of 40, a gradation of 2 and a global hausdorff value (applied on all the boundaries) of 0.1;</li>
<li>we save the mesh and solution.</li>
</ul>
</li>
<li>Second, we remesh in normal mode, with specified memory and lower verbosity:<ul>
<li>in addition to previous parameters, we ask that all boundary triangles of ref 36 respect a hasdorff number of 0.01 and all boundary triangles of ref 38 a hasdorff number of 1. For both reference, we set the minimal (resp. maximal) edge size to 0.00001 (resp. 40). <br  />
 The local hausdorff number on ref 38 has no effects because it is higher than the previous value (without local value, we apply global hausdorff (0.1)) and this value is now contained in the metric;</li>
<li>we don't save results but we reset the computed metric and reapply the initial constant metric of size 10;</li>
<li>we perform the last wave of refinment. Now we can see the effect of the local hausdorff number on ref 38;</li>
<li>we save the mesh and solution</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md81"></a>
II/ Compilation</h1>
<ol type="1">
<li>Build and install the <b>mmg3d</b> shared and static library. We suppose in the following that you have installed the <b>mmg3d</b> library in the **_$CMAKE_INSTALL_PREFIX_** directory (see the <a href="https://github.com/MmgTools/Mmg/wiki/Setup-guide#iii-installation">installation</a> section of the setup guide);</li>
<li>compile the main.c file specifying:<ul>
<li>the <b>mmg3d</b> include directory with the <b>-I</b> option;</li>
<li>the <b>mmg3d</b> library location with the <b>-L</b> option;</li>
<li>the <b>mmg3d</b> library name with the <b>-l</b> option;</li>
<li>for the static library you must also link the executable with, if used for the <b>mmg3d</b> library compilation, the scotch and scotcherr libraries and with the math library;</li>
<li>with the shared library, you must add the ***_$CMAKE_INSTALL_PREFIX_** directory to your <b>LD_LIBRARY_PATH</b>.</li>
</ul>
</li>
</ol>
<blockquote class="doxtable">
<p>&zwj;Example 1 <br  />
 Command line to link the application with the <b>mmg3d</b> static library (we supposed here that the scotch library is installed in the **_$SCOTCH_PATH_** directory): <br  />
 </p><div class="fragment"><div class="line">gcc -I$CMAKE_INSTALL_PREFIX/include/mmg/mmg3d main.c -L$CMAKE_INSTALL_PREFIX/lib -L$SCOTCH_PATH -lmmg3d -lscotch -lscotcherr -lm</div>
</div><!-- fragment --> </blockquote>
<blockquote class="doxtable">
<p>&zwj;Example 2 <br  />
 Command line to link the application with the <b>mmg3d</b> shared library: <br  />
 </p><div class="fragment"><div class="line">gcc -I$CMAKE_INSTALL_PREFIX/include/mmg/mmg3d main.c -L$CMAKE_INSTALL_PREFIX/lib -lmmg3d</div>
<div class="line">export LD_LIBRARY_PATH=$CMAKE_INSTALL_PREFIX/lib:$LD_LIBRARY_PATH</div>
</div><!-- fragment --> </blockquote>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 28 2024 14:20:32 for Mmg by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
