\hypertarget{opttyp__3d_8c}{}\doxysection{src/mmg3d/opttyp\+\_\+3d.c File Reference}
\label{opttyp__3d_8c}\index{src/mmg3d/opttyp\_3d.c@{src/mmg3d/opttyp\_3d.c}}


Functions for the optimization of very bad elements.  


{\ttfamily \#include \char`\"{}libmmg3d.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}inlined\+\_\+functions\+\_\+3d\+\_\+private.\+h\char`\"{}}\newline
Include dependency graph for opttyp\+\_\+3d.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{opttyp__3d_8c_a4c30bb19a3bd21a09c61bccfc837b19c}{MMG3\+D\+\_\+typelt}} (\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}} \mbox{\hyperlink{API__functionsf__2d_8c_ada14f706b6d7a565d1eeb593fa0ae492}{mesh}}, MMG5\+\_\+int iel, int $\ast$item)
\item 
int \mbox{\hyperlink{opttyp__3d_8c_a5442a7a514815cb19701617f37ebe366}{MMG3\+D\+\_\+swp\+Item}} (\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}} \mbox{\hyperlink{API__functionsf__2d_8c_ada14f706b6d7a565d1eeb593fa0ae492}{mesh}}, \mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}} met, \mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}} PROctree, MMG5\+\_\+int k, int iar)
\item 
static int \mbox{\hyperlink{opttyp__3d_8c_a33e5336004d906c2617920beb785914d}{MMG3\+D\+\_\+swpalmostall}} (\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}} \mbox{\hyperlink{API__functionsf__2d_8c_ada14f706b6d7a565d1eeb593fa0ae492}{mesh}}, \mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}} met, \mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}} PROctree, MMG5\+\_\+int k, int iar)
\item 
int \mbox{\hyperlink{opttyp__3d_8c_aca4648c6846df186a3edb70b6df25658}{MMG3\+D\+\_\+split\+Item}} (\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}} \mbox{\hyperlink{API__functionsf__2d_8c_ada14f706b6d7a565d1eeb593fa0ae492}{mesh}}, \mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}} met, \mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}} PROctree, MMG5\+\_\+int k, int iar, double OCRIT)
\item 
static int \mbox{\hyperlink{opttyp__3d_8c_ab8704ff7d01f6a755815c13235d83dbd}{MMG3\+D\+\_\+splitalmostall}} (\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}} \mbox{\hyperlink{API__functionsf__2d_8c_ada14f706b6d7a565d1eeb593fa0ae492}{mesh}}, \mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}} met, \mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}} PROctree, MMG5\+\_\+int k, int iar)
\item 
MMG5\+\_\+int \mbox{\hyperlink{opttyp__3d_8c_a0fdf9b996eb46488b4372efea7c8b3a8}{MMG3\+D\+\_\+opttyp}} (\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}} \mbox{\hyperlink{API__functionsf__2d_8c_ada14f706b6d7a565d1eeb593fa0ae492}{mesh}}, \mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}} met, \mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}} PROctree, MMG5\+\_\+int testmark)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for the optimization of very bad elements. 

\begin{DoxyAuthor}{Author}
CÃ©cile Dobrzynski (Bx INP/\+Inria/\+UBordeaux) 

Algiane Froehly (Inria/\+UBordeaux) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
5 
\end{DoxyVersion}
\begin{DoxyCopyright}{Copyright}
GNU Lesser General Public License. 
\end{DoxyCopyright}


Definition in file \mbox{\hyperlink{opttyp__3d_8c_source}{opttyp\+\_\+3d.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{opttyp__3d_8c_a0fdf9b996eb46488b4372efea7c8b3a8}\label{opttyp__3d_8c_a0fdf9b996eb46488b4372efea7c8b3a8}} 
\index{opttyp\_3d.c@{opttyp\_3d.c}!MMG3D\_opttyp@{MMG3D\_opttyp}}
\index{MMG3D\_opttyp@{MMG3D\_opttyp}!opttyp\_3d.c@{opttyp\_3d.c}}
\doxysubsubsection{\texorpdfstring{MMG3D\_opttyp()}{MMG3D\_opttyp()}}
{\footnotesize\ttfamily MMG5\+\_\+int MMG3\+D\+\_\+opttyp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}}}]{mesh,  }\item[{\mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}}}]{met,  }\item[{\mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}}}]{PROctree,  }\item[{MMG5\+\_\+int}]{testmark }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em mesh} & pointer to the mesh structure. \\
\hline
{\em met} & pointer to the metric structure. \\
\hline
{\em PROctree} & pointer to the PROctree structure. \\
\hline
{\em testmark} & all the tets with a mark less than testmark will not be treated. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if fail, number of improved elts otherwise.
\end{DoxyReturn}
Travel across the mesh to detect element with very bad quality (less than 0.\+2) and try to improve them by every means. 

Definition at line \mbox{\hyperlink{opttyp__3d_8c_source_l00472}{472}} of file \mbox{\hyperlink{opttyp__3d_8c_source}{opttyp\+\_\+3d.\+c}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_a0fdf9b996eb46488b4372efea7c8b3a8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_a0fdf9b996eb46488b4372efea7c8b3a8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opttyp__3d_8c_ab8704ff7d01f6a755815c13235d83dbd}\label{opttyp__3d_8c_ab8704ff7d01f6a755815c13235d83dbd}} 
\index{opttyp\_3d.c@{opttyp\_3d.c}!MMG3D\_splitalmostall@{MMG3D\_splitalmostall}}
\index{MMG3D\_splitalmostall@{MMG3D\_splitalmostall}!opttyp\_3d.c@{opttyp\_3d.c}}
\doxysubsubsection{\texorpdfstring{MMG3D\_splitalmostall()}{MMG3D\_splitalmostall()}}
{\footnotesize\ttfamily static int MMG3\+D\+\_\+splitalmostall (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}}}]{mesh,  }\item[{\mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}}}]{met,  }\item[{\mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}}}]{PROctree,  }\item[{MMG5\+\_\+int}]{k,  }\item[{int}]{iar }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyParams}{Parameters}
{\em mesh} & pointer to the mesh structure. \\
\hline
{\em met} & pointer to the metric structure. \\
\hline
{\em PROctree} & pointer to the PROctree structure. \\
\hline
{\em k} & elt index. \\
\hline
{\em iar} & index of edge to not split. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if success, 0 otherwise
\end{DoxyReturn}
Try to split evry edge of tetra {\itshape k} except of edge number {\itshape iar}. 

Definition at line \mbox{\hyperlink{opttyp__3d_8c_source_l00440}{440}} of file \mbox{\hyperlink{opttyp__3d_8c_source}{opttyp\+\_\+3d.\+c}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_ab8704ff7d01f6a755815c13235d83dbd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_ab8704ff7d01f6a755815c13235d83dbd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opttyp__3d_8c_aca4648c6846df186a3edb70b6df25658}\label{opttyp__3d_8c_aca4648c6846df186a3edb70b6df25658}} 
\index{opttyp\_3d.c@{opttyp\_3d.c}!MMG3D\_splitItem@{MMG3D\_splitItem}}
\index{MMG3D\_splitItem@{MMG3D\_splitItem}!opttyp\_3d.c@{opttyp\_3d.c}}
\doxysubsubsection{\texorpdfstring{MMG3D\_splitItem()}{MMG3D\_splitItem()}}
{\footnotesize\ttfamily int MMG3\+D\+\_\+split\+Item (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}}}]{mesh,  }\item[{\mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}}}]{met,  }\item[{\mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}}}]{PROctree,  }\item[{MMG5\+\_\+int}]{k,  }\item[{int}]{iar,  }\item[{double}]{OCRIT }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em mesh} & pointer to the mesh structure. \\
\hline
{\em met} & pointer to the metric structure. \\
\hline
{\em PROctree} & pointer to the PROctree structure. \\
\hline
{\em k} & elt index. \\
\hline
{\em iar} & index of edge to split. \\
\hline
{\em OCRIT} & quality threshold. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if success, 0 otherwise
\end{DoxyReturn}
Try to split edge number {\itshape iar} of tetra {\itshape k} 

Definition at line \mbox{\hyperlink{opttyp__3d_8c_source_l00394}{394}} of file \mbox{\hyperlink{opttyp__3d_8c_source}{opttyp\+\_\+3d.\+c}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_aca4648c6846df186a3edb70b6df25658_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_aca4648c6846df186a3edb70b6df25658_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opttyp__3d_8c_a33e5336004d906c2617920beb785914d}\label{opttyp__3d_8c_a33e5336004d906c2617920beb785914d}} 
\index{opttyp\_3d.c@{opttyp\_3d.c}!MMG3D\_swpalmostall@{MMG3D\_swpalmostall}}
\index{MMG3D\_swpalmostall@{MMG3D\_swpalmostall}!opttyp\_3d.c@{opttyp\_3d.c}}
\doxysubsubsection{\texorpdfstring{MMG3D\_swpalmostall()}{MMG3D\_swpalmostall()}}
{\footnotesize\ttfamily static int MMG3\+D\+\_\+swpalmostall (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}}}]{mesh,  }\item[{\mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}}}]{met,  }\item[{\mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}}}]{PROctree,  }\item[{MMG5\+\_\+int}]{k,  }\item[{int}]{iar }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyParams}{Parameters}
{\em mesh} & pointer to the mesh structure. \\
\hline
{\em met} & pointer to the metric structure. \\
\hline
{\em PROctree} & pointer to the PROctree structure. \\
\hline
{\em k} & elt index. \\
\hline
{\em iar} & index of edge to not try to swap. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 if fail, 0 if we don\textquotesingle{}t swap anything, 1 otherwise.
\end{DoxyReturn}
Try to swap all edges of tetra {\itshape k} except of the edge number {\itshape iar}. 

Definition at line \mbox{\hyperlink{opttyp__3d_8c_source_l00367}{367}} of file \mbox{\hyperlink{opttyp__3d_8c_source}{opttyp\+\_\+3d.\+c}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_a33e5336004d906c2617920beb785914d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_a33e5336004d906c2617920beb785914d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opttyp__3d_8c_a5442a7a514815cb19701617f37ebe366}\label{opttyp__3d_8c_a5442a7a514815cb19701617f37ebe366}} 
\index{opttyp\_3d.c@{opttyp\_3d.c}!MMG3D\_swpItem@{MMG3D\_swpItem}}
\index{MMG3D\_swpItem@{MMG3D\_swpItem}!opttyp\_3d.c@{opttyp\_3d.c}}
\doxysubsubsection{\texorpdfstring{MMG3D\_swpItem()}{MMG3D\_swpItem()}}
{\footnotesize\ttfamily int MMG3\+D\+\_\+swp\+Item (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}}}]{mesh,  }\item[{\mbox{\hyperlink{libmmgtypes_8h_a73ac506fe087cc604bb892e46373719a}{MMG5\+\_\+p\+Sol}}}]{met,  }\item[{\mbox{\hyperlink{PRoctree__3d__private_8h_a3123a024d89f849036a3b9c8397b5a9f}{MMG3\+D\+\_\+p\+PROctree}}}]{PROctree,  }\item[{MMG5\+\_\+int}]{k,  }\item[{int}]{iar }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em mesh} & pointer to the mesh structure. \\
\hline
{\em met} & pointer to the metric structure. \\
\hline
{\em PROctree} & pointer to the PROctree structure. \\
\hline
{\em k} & elt index. \\
\hline
{\em iar} & index of edge to not try to swap. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 if fail, 0 if we don\textquotesingle{}t swap anything, 1 otherwise.
\end{DoxyReturn}
Try to swap edge {\itshape iar} of tetra {\itshape k}. 

Definition at line \mbox{\hyperlink{opttyp__3d_8c_source_l00328}{328}} of file \mbox{\hyperlink{opttyp__3d_8c_source}{opttyp\+\_\+3d.\+c}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_a5442a7a514815cb19701617f37ebe366_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_a5442a7a514815cb19701617f37ebe366_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opttyp__3d_8c_a4c30bb19a3bd21a09c61bccfc837b19c}\label{opttyp__3d_8c_a4c30bb19a3bd21a09c61bccfc837b19c}} 
\index{opttyp\_3d.c@{opttyp\_3d.c}!MMG3D\_typelt@{MMG3D\_typelt}}
\index{MMG3D\_typelt@{MMG3D\_typelt}!opttyp\_3d.c@{opttyp\_3d.c}}
\doxysubsubsection{\texorpdfstring{MMG3D\_typelt()}{MMG3D\_typelt()}}
{\footnotesize\ttfamily static int MMG3\+D\+\_\+typelt (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{libmmgtypes_8h_a906478a19c4819942a0eea48823b774b}{MMG5\+\_\+p\+Mesh}}}]{mesh,  }\item[{MMG5\+\_\+int}]{iel,  }\item[{int $\ast$}]{item }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyParams}{Parameters}
{\em mesh} & pointer to the mesh structure. \\
\hline
{\em iel} & element index. \\
\hline
{\em item} & bad entity. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 if fail, element type otherwise.
\end{DoxyReturn}
Identify the type of element.~\newline
Type\+:
\begin{DoxyItemize}
\item 0\+: element is ok.
\item 1\+: empty volume but 4 valid faces (sliver)
\item 2\+: empty volume and a vertex close to the opposite face. 4 valid faces (chinese hat).
\item 3\+: 3 valid faces, 1 obtuse face (aileron)
\item 4\+: 2 valid faces, 2 acute faces (=\texorpdfstring{$>$}{>} 1 small edge)
\item 5\+: 1 valid face, 3 small edges
\item 6\+: 2 faces with big edges, 2 faces with small edges
\item 7\+: 4 faces with big edges
\end{DoxyItemize}

Element caracteristics by type\+:
\begin{DoxyItemize}
\item 0\+: 0 obtuse face, 0 acute face, 0 big edge, 0 small edge.
\item 1\+: 0 obtuse face, 0 acute face, 0 big edge, 0 small edge.
\item 2\+: 0 obtuse face, 0 acute face, 0 big edge, 0 small edge.
\item 3\+: 1 obtuse face, 0 acute face, 1 big edge, 0 small edge.
\item 4\+: 0 obtuse face, 2 acute face, 0 big edge, 1 small edge.
\item 5\+: 0 obtuse face, 3 acute face, 0 big edge, 3 small edge.
\item 6\+: 2 obtuse face, 2 acute face, 1 big edge, 1 small edge.
\item 7\+: 0 obtuse face, 4 acute face, 0 big edge, 2 small edge. 
\end{DoxyItemize}

Definition at line \mbox{\hyperlink{opttyp__3d_8c_source_l00065}{65}} of file \mbox{\hyperlink{opttyp__3d_8c_source}{opttyp\+\_\+3d.\+c}}.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opttyp__3d_8c_a4c30bb19a3bd21a09c61bccfc837b19c_icgraph}
\end{center}
\end{figure}
